





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- IMPORTS VOOR HEADER AND FOOTER-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Molveno Lake Resort</title>
    <link rel="icon" href="/img/logo_128.png" type="image/png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/event/event.css" type="text/css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Bootstrap core CSS -->
    <!--DEZE GEEFT OOK EEN ERROR
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">
    -->
    <!-- Custom styles for this template -->
    <link href="/css/event/sticky-footer-navbar.css" rel="stylesheet">
    <!-- IMPORTS VOOR HEADER AND FOOTER-->


    <!--ALLE SCRIPTS VOOR DATATABLES11111-->
    <link rel="icon" href="/img/logo_128.png" type="image/png">
    <link rel="icon" href="../../../../favicon.ico">

    <link rel="stylesheet" href="/css/event/sticky-footer-navbar.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link rel="stylesheet" href="/css/event/event.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.2/css/responsive.bootstrap4.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.1.0/css/rowGroup.bootstrap4.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.2.6/css/select.bootstrap4.min.css" />
    <link rel="stylesheet" href="/css/event/event.css" type="text/css" />

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.2/js/dataTables.responsive.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.2/js/responsive.bootstrap4.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/rowgroup/1.1.0/js/dataTables.rowGroup.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.4/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/select/1.2.6/js/dataTables.select.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.5/jspdf.plugin.autotable.js"></script>


    <!--ALLE SCRIPTSSSSSSSSSSSSSSS DATATABLE-->


</head>
<body>

<!-- BEGIN HEADER -->
<header>


    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
        <img id="logo" alt="Molveno Lake Resort" src="/img/logo_128.png" /><a class="navbar-brand" href="#">Molveno Lake Resort</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/index.html">Home <span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link" href="/hotel.html">
                        Hotel
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Optie1</a>
                        <a class="dropdown-item" href="#">Optie2</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Optie3</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link" href="/restaurant.html">
                        Restaurant
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Optie1</a>
                        <a class="dropdown-item" href="#">Optie2</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Optie3</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" href="/events.html">
                        Events
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">Optie1</a>
                        <a class="dropdown-item" href="#">Optie2</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Optie3</a>
                    </div>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/contact.html">Contact</a>
                </li>
            </ul>

            <ul class="languagepicker">
                <a href="#en"><li><img src="/img/EN.png"/>English</li></a>
                <a href="#cn"><li><img src="/img/CN.png"/>Chinese</li></a>
            </ul>

            <button class="btn btn-outline-success my-2 my-sm-0" type="button">Register</button>
            <button class="btn btn-outline-success my-2 my-sm-0" type="button">Login</button>
        </div>
    </nav>
</header>

<!-- END HEADER -->


<!-- BEGIN PAGE CONTENT-->

<div class="carousel row">

    <div class="col-md-12">
        <div class="container theme-showcase">
            <h1>Employee account management</h1>
            <div id="holder" class="row" ></div>
        </div>



    <div class="row">
        <div class="col-12">
            <table id="events" class="table">
                <thead>
                <tr>
                    <th>Role Name</th>
                    <th>isEmployeeAccount</th>
                    <th>isActive</th>

                </tr>
                </thead>
            </table>
        </div>
    </div>

    </div>
</div>

<script type="application/javascript" language="JavaScript">
        var eventsTable;
        $(document).ready(
            eventsTable = function () {
                return $('#events').DataTable({
                    "dom": "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>>" +
                        "<'row'<'col-sm-12'tr>>" +
                        "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-12'B><'col-sm-12 col-md-7'p>>",
                    "select": "single",
                    "ajax": {
                        "url": "http://localhost:8080/api/role",
                        "dataSrc": "_embedded.roles"
                    },
                    "columns": [
                        { "data": "name" },
                        { "data": "employeeRole" },
                        { "data": "active" }
                    ],
                    "buttons": [
                        {
                            "text": 'Create Role',
                            "className": "btn",
                            "action": function () {
                                createPage();
                            }
                        },
                        {
                            "extend": 'selected',
                            "text": 'Edit Role',
                            "className": "btn",
                            "action": function (e, dt, button, config) {
                                var event = dt.data()[dt.rows({ selected: true })[0]];
                                var value = event._links.self.href;
                                console.log(value);
                                editPage(value);
                            }
                        },
                        {
                            "extend": 'selected',
                            "text": 'Edit password',
                            "className": "btn",
                            "action": function (e, dt, button, config) {
                                var event = dt.data()[dt.rows({ selected: true })[0]];
                                var value = event._links.self.href;
                                console.log(value);
                                editPassword(value);
                            }
                        },
                        {
                            "extend": 'selected',
                            "text": 'Delete Role',
                            "className": "btn btn-danger",
                            "action": function (e, dt, button, config) {
                                var event = dt.data()[dt.rows({ selected: true })[0]];
                                deleteEvent(event);
                            }
                        },
                        {
                            "text": 'Export to pdf',
                            "className": "btn export",
                            "action": function (e, dt, button, config) {
                                var event = dt.data();
                                exportEvent(event);
                            }
                        }
                    ]
                });
            }());

        var createPage = function () {
            location.href = 'createnewrole.html';
        };
        var editPage = function (value) {

            location.href = 'editemployeeaccount.html?id='+value;
        };
        var editPassword = function (value) {

            location.href = 'editrolepassword.html?id='+value;
        };

        var getEvents = function () {
            eventsTable.ajax.reload(null, false);
        };

        var cancelEvent = function (event) {
            $.ajax({
                url: event["_links"]["self"]["href"],
                type: "patch",
                data: JSON.stringify({
                    "cancelEvent": !event.cancelEvent
                }),
                contentType: "application/json",
                success: function (result) {
                    getEvents();
                },
                error: function (result) {
                    window.alert("Couldn't change '" + event.name + "'! " + result.responseText);
                }
            });
        };

        var deleteEvent = function (event) {
            if (window.confirm("Are you sure you want to delete '" + event.name + "'?")) {
                $.ajax({
                    url: event["_links"]["self"]["href"],
                    type: "delete",
                    success: function (result) {
                        getEvents();
                    },
                    error: function (result) {
                        window.alert("Couldn't delete '" + event.name + "'! " + result.responseText);
                    }
                });
            }
        };

        var exportEvent = function (event) {
            var doc = new jsPDF('landscape');
            doc.text(110, 10, 'Molveno Lake Resort - Employees');
            var elem = document.getElementById("events");
            var res = doc.autoTableHtmlToJson(elem);
            doc.autoTable(res.columns, res.data);
            doc.save("Events.pdf");
        };
    </script>






<button class="btn btn-outline-success my-2 my-sm-0" type="button"><a href="/admin/empaccountmanagement.html">Back</a></button>

<!-- MAAK TWEE POPUPS VOOR DELETE EN BLOCK (in script)-->
<script>
function confirmDelete() {
    var agreed = confirm("Are you sure you want to delete this role?");
    if(agreed){
        //DELETE DE ROLE
        alert("ROLE IS VERWIJDERT");
    }
    else{
        alert("NIET GELUKT");
    }
}

function confirmBlock() {
    var agreed = confirm("Are you sure you want to block this role?");
    if(agreed){
        //DELETE DE ROLE
        alert("ROLE IS GEBLOCKED");
    }
    else{
        alert("NIET GELUKT");
    }
}
</script>




<!--<div class="carousel row">-->
    <!--<div class="col-md-12">-->
        <!--<div class="administrationpanel">-->
            <!--&lt;!&ndash; BEGIN PAGE CONTENT&ndash;&gt;-->
            <!--<div class="row">-->
                <!--<div class="col-md-12">-->
                    <!--<button class="btn btn-outline-success my-2 my-sm-0" type="button"><a href="/admin/admin.html">Back</a></button>-->

                    <!--<div class="row">-->
                        <!--<div class="col-12">-->
                            <!--<table id="rolesTable" class="table">-->
                                <!--<thead>-->
                                <!--<tr>-->
                                    <!--<th>Name</th>-->
                                    <!--<th>Start date</th>-->
                                    <!--<th>End date</th>-->

                                <!--</tr>-->
                                <!--</thead>-->
                            <!--</table>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--&lt;!&ndash; VUL DE TABLE IN JAVASCRIPT&ndash;&gt;-->

                    <!--&lt;!&ndash; CREATE BUTTONS VOOR: Edit password, More options Create new role &ndash;&gt;-->
                    <!--<button class="btn btn-outline-success my-2 my-sm-0" type="button"><a href="/admin/createnewrole.html">Create new role</a></button>-->
                    <!--<button class="btn btn-outline-success my-2 my-sm-0" type="button"><a href="/admin/editrolepassword.html">Edit role password</a></button>-->
                    <!--<button class="btn btn-outline-success my-2 my-sm-0" type="button"><a href="/admin/editemployeeaccount.html">Edit role options</a></button>-->
                    <!--&lt;!&ndash; href="/admin/changepassword.html" &ndash;&gt;-->



                    <!--&lt;!&ndash;OVERVIEEEWWWW&ndash;&gt;-->
                    <!--&lt;!&ndash;OVERVIEEEWWWW&ndash;&gt;-->
                    <!--&lt;!&ndash;OVERVIEEEWWWW&ndash;&gt;-->
                    <!--&lt;!&ndash;OVERVIEEEWWWW&ndash;&gt;-->




                <!--</div>-->
            <!--</div>-->

            <!--&lt;!&ndash; END PAGE CONTENT&ndash;&gt;-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->


<!--&lt;!&ndash; Role VIEW&ndash;&gt;-->
<!--&lt;!&ndash; Role rights box (lijst van acties die hij kan doen)&ndash;&gt;-->

<!--&lt;!&ndash; END PAGE CONTENT&ndash;&gt;-->


<!-- BEGIN FOOTER-->
<footer class="page-footer font-small blue pt-4">

    <!-- Footer Links -->
    <div class="container-fluid text-center text-md-left">

        <!-- Grid row -->
        <div class="row">


            <hr class="clearfix w-100 d-md-none pb-3">

            <!-- Grid column -->
            <div class="col-md-3 mb-md-0 mb-3">

                <!-- Links -->
                <h5 class="text-uppercase">Links</h5>

                <ul class="list-unstyled">
                    <li>
                        <a href="#!">Link 1</a>
                    </li>
                    <li>
                        <a href="#!">Link 2</a>
                    </li>
                    <li>
                        <a href="#!">Link 3</a>
                    </li>
                    <li>
                        <a href="#!">Link 4</a>
                    </li>
                </ul>

            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-3 mb-md-0 mb-3">

                <!-- Links -->
                <h5 class="text-uppercase">Links</h5>

                <ul class="list-unstyled">
                    <li>
                        <a href="#!">Link 1</a>
                    </li>
                    <li>
                        <a href="#!">Link 2</a>
                    </li>
                    <li>
                        <a href="#!">Link 3</a>
                    </li>
                    <li>
                        <a href="#!">Link 4</a>
                    </li>
                </ul>

            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-3 mb-md-0 mb-3">

                <!-- Links -->
                <h5 class="text-uppercase">Links</h5>

                <ul class="list-unstyled">
                    <li>
                        <a href="#!">Link 1</a>
                    </li>
                    <li>
                        <a href="#!">Link 2</a>
                    </li>
                    <li>
                        <a href="#!">Link 3</a>
                    </li>
                    <li>
                        <a href="#!">Link 4</a>
                    </li>
                </ul>

            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-3 mt-md-0 mt-3">

                <!-- Content -->
                <h5 class="text-uppercase">Footer Content</h5>
                <p>Here you can use rows and columns here to organize your footer content.</p>

            </div>
            <!-- Grid column -->


        </div>
        <!-- Grid row -->

    </div>
    <!-- Footer Links -->

    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">Â© 2018 Copyright:
        <a href="https://www.molveno.com/"> www.molveno.com</a>
    </div>
    <!-- Copyright -->

</footer>
<!-- END FOOTER-->


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>





</body>
</html>